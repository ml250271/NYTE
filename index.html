<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
  <title>NYTE</title>
  <style type="text/css">
  </style>
</head>

<body>

  <div id="root"></div>


  <script type="text/babel">

    class Input extends React.Component{

      render(){
        return(
          <div>
          <h1>NYTE</h1>

<span>Search month:</span>
<input type="text" id="month" />

<span>Search year:</span>
<input type="text" id="year" />

<input type="button" id="find" value="Find" onClick={this.props.fetchArticles}/>
</div>

        )
      }
    }

    class Result extends React.Component{

          constructor(props){
            super(props);
            this.state = {articles:[]}
            this.fetchArticles = this.fetchArticles.bind(this);
          }

          render(){
            return (
              <Input fetchArticles={this.fetchArticles}/>
            )
          }


          fetchArticles(){
            var url = "https://api.nytimes.com/svc/archive/v1/2016/1.json";
            url += '?' + $.param({
              'api-key': "32e84cd913b6451bb47730dea03e2515"
            });
            $.ajax({
              url: url,
              method: 'GET',
            }).done(
              (result)=> {
              this.setState({
                articles: result.response.docs
              });
            console.log(this.state);}
            ).fail(function(err) {
              throw err;
            });
          }
    }


    const root = document.getElementById('root');
    ReactDOM.render(<Result/>, root);

    </script>
</body>

</html>